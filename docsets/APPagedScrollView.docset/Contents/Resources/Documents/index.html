<!DOCTYPE html>
<html lang="en">
  <head>
    <title>APPagedScrollView  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="APPagedScrollView  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">APPagedScrollView Docs</a> (0% documented)</p>
        <p class="header-right"><a href="https://github.com/aydenp/APPagedScrollView"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">APPagedScrollView Reference</a>
        <img id="carat" src="img/carat.png" />
        APPagedScrollView  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='appagedscrollview' class='heading'>APPagedScrollView</h1>

<p>A quick delegate-based paging scroll view class that can handle all the layout for you.</p>

<p>Creating paging scroll views on iOS isn&rsquo;t always the easiest. With APPagedScrollView and it&rsquo;s UITableView-like API with delegates and data sources, you can get off your feet with barely any code.</p>

<p>In addition, there is an <code>APPagedScrollViewController</code> that can set up the scroll view for it, which implments the delegate and data source methods so that you can easily override those and provide the data you want.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>You can install APPagedScrollView using CocoaPods by adding it to your Podfile:</p>
<pre class="highlight plaintext"><code>pod 'APPagedScrollView'
</code></pre>

<p>or by copying over the two Swift files (as needed).</p>
<h2 id='implementing-it-in-your-app' class='heading'>Implementing it in your app</h2>

<p>Depending on your needs, you can either subclass and override the methods on <code>APPagedScrollViewController</code> or just use your own class(es) and implement <code>APPagedScrollViewDelegate</code> and <code>APPagedScrollViewDataSource</code>.</p>
<h3 id='using-the-view-controller' class='heading'>Using the view controller</h3>

<p>In our example, we have subclassed <code>APPagedScrollViewController</code>.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">MyPagingScrollViewController</span><span class="p">:</span> <span class="kt">APPagedScrollViewController</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">pages</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Hello"</span><span class="p">,</span> <span class="s">"world!"</span><span class="p">]</span>

    <span class="c1">// MARK: - Paged Scroll View Data Source</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">numberOfPages</span><span class="p">(</span><span class="k">in</span> <span class="nv">pagedScrollView</span><span class="p">:</span> <span class="kt">APPagedScrollView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">pages</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">view</span><span class="p">(</span><span class="n">forPageAt</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="k">in</span> <span class="nv">pagedScrollView</span><span class="p">:</span> <span class="kt">APPagedScrollView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIView</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">view</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">pages</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">label</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">)</span><span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="n">label</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="p">)</span><span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="k">return</span> <span class="n">view</span>
    <span class="p">}</span>

    <span class="c1">// MARK: - Paged Scroll View Delegate</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">pagedScrollView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pagedScrollView</span><span class="p">:</span> <span class="kt">APPagedScrollView</span><span class="p">,</span> <span class="n">movedTo</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">from</span> <span class="nv">oldIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">pagedScrollView</span><span class="p">(</span><span class="n">pagedScrollView</span><span class="p">,</span> <span class="nv">movedTo</span><span class="p">:</span> <span class="n">index</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="n">oldIndex</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Scroll view moved to page </span><span class="se">\(</span><span class="n">index</span><span class="se">)</span><span class="s">!"</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>
<h4 id='adding-a-page-control' class='heading'>Adding a page control</h4>

<p>The view controller also provides page control functionality built-in, meaning that it can automatically update your <code>UIPageControl</code> with the current index and total page count, as well as allow users to navigate by tapping it. To get this functionality, simply create a UIPageControl, and set it on the view controller:</p>
<pre class="highlight swift"><code><span class="c1">// Create a page control</span>
<span class="k">let</span> <span class="nv">pageControl</span> <span class="o">=</span> <span class="kt">UIPageControl</span><span class="p">()</span>
<span class="n">pageControl</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
<span class="c1">// Add and set its location</span>
<span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">pageControl</span><span class="p">)</span>
<span class="n">pageControl</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">)</span><span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">pageControl</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">bottomAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">isActive</span> <span class="o">=</span> <span class="kc">true</span>
<span class="c1">// Set on the view controller so we can receive updates</span>
<span class="k">self</span><span class="o">.</span><span class="n">pageControl</span> <span class="o">=</span> <span class="n">pageControl</span>
</code></pre>
<h4 id='changing-what-it-attaches-to' class='heading'>Changing what it attaches to</h4>

<p>By default, the scroll view attaches to the top of the view controller&rsquo;s view. This is usually fine, except if you manually set your scroll view&rsquo;s content inset and don&rsquo;t want to worry about fixing it to layout properly. You can override <code>attachScrollViewToTopLayoutGuide</code> and return <code>true</code> to attach the scroll view directly to your top layout guide, removing the need for automatically set scroll view insets. (iOS 11 slightly changes this behaviour by applying the system insets afterwards by default).</p>
<h4 id='property-proxies' class='heading'>Property Proxies</h4>

<p>The view controller by default has some variables and functions that carry over functionality of the paged scroll view class.</p>
<h3 id='using-the-view' class='heading'>Using the view</h3>

<p>By using the view, you don&rsquo;t get the automatic layout or page control functionality. You&rsquo;ll have to set it up yourself. Once you&rsquo;ve set it up, make sure to set the <code>pagingDelegate</code> and <code>dataSource</code> properties properly so that it knows where to receive data from.</p>
<h4 id='responding-to-size-changes' class='heading'>Responding to size changes</h4>

<p>If an iOS device changes size (rotation, etc), the scroll view can become misaligned. You can call <code>alignScrollView()</code> on it to re-align it. This will cause the scroll view to jump to the aligned location, so you can also provide a <code>UIViewControllerTransitionCoordinator</code> to animate alongside. Here&rsquo;s an example that automatically aligns the scroll view position during a rotation:</p>
<pre class="highlight swift"><code>    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewWillTransition</span><span class="p">(</span><span class="n">to</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">,</span> <span class="n">with</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">UIViewControllerTransitionCoordinator</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewWillTransition</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">size</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="n">coordinator</span><span class="p">)</span>
        <span class="n">scrollView</span><span class="o">.</span><span class="nf">alignScrollView</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">coordinator</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<h3 id='other-notes' class='heading'>Other notes</h3>
<h4 id='reloading-the-data' class='heading'>Reloading the data</h4>

<p>To reload the data in the view, simply call <code>reloadData()</code> on either the scroll view or its controller.</p>
<h4 id='getting-the-page-count-or-current-page-index' class='heading'>Getting the page count or current page index</h4>

<p>If you need to get the current page index or number of pages somewhere else in your code, you can call <code>currentPageIndex</code> or <code>numberOfPages</code> on the scroll view or its controller.</p>
<h4 id='checking-if-the-scroll-view-can-move-in-a-direction' class='heading'>Checking if the scroll view can move in a direction</h4>

<p>We provide convenience variables on both the scroll view and its controller, named <code>canGoBack</code> and <code>canGoForward</code>, which tell you if the scroll view can go back or forward based on its current index and the number of pages. You can use this in your code to disable previous/next buttons on page change, for example.</p>
<h4 id='scrolling-to-a-different-page' class='heading'>Scrolling to a different page</h4>

<p>You can simply go back or forward using the <code>goBack</code> or <code>goForward</code> functions on the scroll view or its controller (they both also accept an optional boolean argument, <code>animated</code>).</p>

<p>You can also just outright set the <code>currentPageIndex</code> from the above section to scroll to that page with an animation. If you don&rsquo;t want an animation, use the <code>scroll(to: index, animated: animated)</code> function and turn off the animation using the <code>animated</code> argument.</p>
<h4 id='how-can-i-get-other-code-uiscrollviewdelegate-code-methods-called-in-my-code' class='heading'>How can I get other <code>UIScrollViewDelegate</code> methods called in my code.</h4>

<p><code>APPagedScrollView</code> needs access to the scroll view&rsquo;s delegate in order to receive events properly, but we have a property on it called <code>receivingDelegate</code> which we forward all the events to, allowing you to receive them.</p>
<h4 id='getting-page-move-events' class='heading'>Getting page move events</h4>

<p>Two delegate methods allow you to perform actions based on when the user changes pages, or is transitioning between pages.</p>

<ul>
<li><p><code>func pagedScrollView(_ pagedScrollView: APPagedScrollView, movedTo index: Int, from oldIndex: Int?)</code> is called after the page has been changed to <code>index</code>. <code>oldIndex</code> contains the page that it moved from, if there was one.</p></li>
<li><p><code>func pagedScrollView(_ pagedScrollView: APPagedScrollView, movingTo index: Int, from oldIndex: Int, progress: CGFloat)</code> is called during the scroll from one page to another. <code>index</code> is the page we think it&rsquo;ll end up on, <code>oldIndex</code> is the page it&rsquo;s transitioning from, and <code>progress</code> is a value from 0 to 1 containing the progress of the transition. You can use this to do interactive scroll events and animations in your app as the page changes.</p></li>
</ul>

<blockquote>
<p>Note that <code>pagedScrollView(_:, movingTo:, index:, progress:)</code> doesn&rsquo;t pick up on scroll events that are outside of the scroll view&rsquo;s content area by default. To explain more, everyone that&rsquo;s used iOS knows that scroll views allow you to scroll past the content area, with an elastic-like effect to slow you down, which puts you back where you were when you&rsquo;re finished. If you&rsquo;d like the delegate method to also pick up these events, you can enable <code>elasticScrollingEvents</code>, but make sure if you have logic in the delegate that relies on page numbers, it knows to account for these transitions (pages past the bounds will have indices of -1 or just outside of the possible range).</p>
</blockquote>
<h2 id='license' class='heading'>License</h2>

<p>This project is licensed under the <a href="/LICENSE">MIT license</a>. Please make sure you comply with its terms while using the library.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://madebyayden.co" target="_blank" rel="external">Ayden P</a>. All rights reserved. (Last updated: 2017-07-07)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
